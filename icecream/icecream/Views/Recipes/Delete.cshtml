@model icecream.Models.Recipe

@{
 ViewData["Title"] = "Delete Recipe";
 Layout = "~/Views/Shared/_DashLayout.cshtml";
}

<style>
.delete-card {
 max-width:920px;
 margin:2rem auto;
 background:#fff;
 border-radius:12px;
 padding:1.25rem;
 box-shadow:08px24px rgba(31,41,55,0.06);
 border:1px solid rgba(0,0,0,0.04);
}
.header { display:flex; align-items:center; justify-content:space-between; gap:12px; }
.icon { width:56px; height:56px; border-radius:12px; display:flex; align-items:center; justify-content:center; background:linear-gradient(135deg,#ffe6ee,#ffdede); color:#c81d5a; font-weight:700; font-size:20px; }
.title { margin:0; font-size:1.25rem; font-weight:700; }
.subtitle { margin:4px000; color:#6b7280; }
.warning { background:#fff5f5; border:1px solid #fee2e2; color:#9f1239; padding:12px; border-radius:8px; margin:1rem0; }
.details { display:grid; grid-template-columns:1fr1fr; gap:1rem; }
.detail-box { background:#fbfbfd; padding:12px; border-radius:8px; border:1px solid rgba(0,0,0,0.03); }
.detail-key { font-size:0.85rem; color:#6b7280; }
.detail-value { margin-top:6px; font-weight:600; }
.preview { display:flex; align-items:center; gap:12px; }
.preview img { max-width:160px; max-height:120px; border-radius:8px; object-fit:cover; border:1px solid rgba(0,0,0,0.04); }
.actions { display:flex; gap:0.5rem; justify-content:flex-end; margin-top:1rem; }
.btn-danger { background:#d6336c; border-color:#d6336c; color:#fff; padding:.5rem .9rem; border-radius:.5rem; }
.btn-cancel { background:transparent; border:1px solid rgba(0,0,0,0.08); padding:.45rem .85rem; border-radius:.5rem; }
@@media (max-width:767.98px) {
 .details { grid-template-columns:1fr; }
 .actions { flex-direction:column-reverse; }
}
</style>

<div class="delete-card">
 <div class="header">
 <div style="display:flex;gap:12px;align-items:center;">
 <div class="icon">!</div>
 <div>
 <h2 class="title">Delete Recipe</h2>
 <div class="subtitle">This action will permanently remove the recipe from the system.</div>
 </div>
 </div>
 <div class="text-muted">Recipe ID: @Model?.RecipeId</div>
 </div>

 <div class="warning">
 <strong>Warning:</strong> Deleting a recipe cannot be undone. Any references (menus, orders, links) may be affected.
 </div>

 <div class="details">
 <div class="detail-box">
 <div class="detail-key">Flavor name</div>
 <div class="detail-value">@Html.DisplayFor(m => m.FlavorName)</div>

 <div class="detail-key" style="margin-top:10px;">Ingredients</div>
 <div class="detail-value">@Html.DisplayFor(m => m.Ingredients)</div>
 </div>

 <div class="detail-box">
 <div class="detail-key">Procedure</div>
 <div class="detail-value">@Html.DisplayFor(m => m.RecipeProcedure)</div>

 <div class="detail-key" style="margin-top:10px;">Created at</div>
 <div class="detail-value">@((Model?.CreatedAt.HasValue == true) ? Model.CreatedAt.Value.ToString("yyyy-MM-dd HH:mm") : "-")</div>
 </div>
 </div>

 <div style="margin-top:12px; display:flex; gap:1rem; align-items:flex-start;">
 <div class="preview">
 <div class="detail-key">Image</div>
 <img src="@(String.IsNullOrWhiteSpace(Model?.ImagePath) ? "/images/placeholder-image.png" : Model.ImagePath)" alt="Recipe image" />
 </div>

 <div style="flex:1">
 <div class="detail-key">Added by (Admin)</div>
 <div class="detail-value">@((Model?.AddedByAdminNavigation != null) ? Model.AddedByAdminNavigation.AdminId.ToString() : "-")</div>
 </div>
 </div>

 <form asp-action="Delete" onsubmit="return confirmDelete();">
 <input type="hidden" asp-for="RecipeId" />
 <div class="actions">
 <a asp-action="Index" class="btn-cancel">Cancel</a>
 <button type="submit" class="btn-danger">Delete recipe</button>
 </div>
 </form>
</div>

@section Scripts {
<script>
function confirmDelete() {
 return confirm('Are you sure you want to delete this recipe? This action cannot be undone.');
}
</script>
}
